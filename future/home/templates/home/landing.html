{% extends "home/base.html" %}
{% block title %}FutureSpace{% endblock %}

{% block content %}

<!-- ==== HERO SLIDER WITH PARALLAX ==== -->
<div class="swiper heroSwiper">
    <div class="swiper-wrapper">

        {% for slide in sliders %}
        <div class="swiper-slide">

            <div class="hero-slide">

                <!-- Background layer -->
                <div class="hero-slide-bg"
                    data-swiper-parallax="40%"
                    style="background-image: url('{{ slide.image.url }}');">
                </div>

                <!-- Text Overlay -->
                <div class="hero-overlay" data-swiper-parallax="-100">
                    {% if slide.title %}
                        <h1 class="hero-title">{{ slide.title }}</h1>
                    {% endif %}
                    {% if slide.subtitle %}
                        <p class="hero-sub">{{ slide.subtitle }}</p>
                    {% endif %}
                    {% if slide.button_text %}
                        <a href="{{ slide.button_link }}" class="btn-join mt-3">{{ slide.button_text }}</a>
                    {% endif %}
                </div>

            </div>

        </div>
        {% endfor %}

    </div>

    <!-- Slider Arrows & Pagination -->
    <div class="swiper-pagination"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>

</div>
<!-- END HERO SLIDER -->

<!-- ===== SERVICES SECTION ===== -->
<section id="services" class="services-section container py-2">
<div class="service-heading py-3 my-1 service-card" data-aos="fade-up">
  <h2>Our Services</h2>
  <p class="subtitle">What we offer to help you grow</p>
</div>
  <div class="row g-4 justify-content-center">

    {% for service in services %}
    <div class="col-lg-4 col-md-6 col-sm-6 service-card" data-aos="zoom-in">
      <div class="service-card">

        <!-- Background image + overlay container -->
        <div class="service-bg" style="background-image: url('{{ service.image.url }}');">

          <!-- Always visible title overlay -->
          <div class="service-title-overlay">
            <h3 class="service-title">{{ service.title }}</h3>
          </div>

          <!-- Hidden description, appears on hover -->
          <div class="service-desc-overlay">
            <p class="service-desc">{{ service.description }}</p>
          </div>

        </div>

      </div>
    </div>
    {% endfor %}

  </div>
</section>
<!-- ================= END OUR SERVICES SECTION ================= -->


{# ===== PROMO / NAVIGATION CARDS SECTION ===== #}
<section id="promo" class="promo-section container-fluid px-0 py-5">
  <div class="row g-0">

    {% if club_card %}
    <div class="col-md-6 promo-card-col" data-aos="fade-right" data-aos-duration="1500">
      <a href="{{ club_card.link|default:'#' }}" class="d-block">
        <div class="promo-card promo-left" style="background-image: url('{{ club_card.image.url }}');">
          <div class="promo-overlay">
            <h2 class="promo-title" style="color: white;">{{ club_card.title }}</h2>
            <p class="promo-desc">{{ club_card.description }}</p>
          </div>
        </div>
      </a>
    </div>
    {% endif %}

    {% if activity_card %}
    <div class="col-md-6 promo-card-col " data-aos="fade-left" data-aos-duration="1500">
      <a href="{{ activity_card.link|default:'#' }}" class="d-block">
        <div class="promo-card promo-right" style="background-image: url('{{ activity_card.image.url }}');">
          <div class="promo-overlay">
            <h2 class="promo-title " style="color: white;">{{ activity_card.title }}</h2>
            <p class="promo-desc">{{ activity_card.description }}</p>
          </div>
        </div>
      </a>
    </div>
    {% endif %}

  </div>
</section>
{# ================= END PROMO / NAVIGATION CARDS SECTION ================= #}
{# ===== COURSES SECTION ===== #}

<!-- ===== Courses Section ===== -->
<section id="courses" class="container py-5">
  <h2 class="text-center mb-5 section-heading" data-aos="fade-down">Our Courses</h2>

  <div class="row justify-content-center">

    {% for course in courses %}
      <div class="col-sm-6 col-md-4 mb-4"
           data-aos="flip-up"
           data-aos-duration="700"
           data-aos-delay="{{ forloop.counter0|add:'0' }}00">
        <div class="card h-100 course-card">
          {% if course.image %}
            <img src="{{ course.image.url }}" class="card-img-top" alt="{{ course.title }}">
          {% endif %}
          <div class="card-header py-3">
            <h4 class="my-0 fw-normal">{{ course.title }}</h4>
          </div>
          <div class="card-body">
            {% if course.price %}
              <h1 class="card-title pricing-card-title">
                ${{ course.price }}<small class="text-muted fw-light">/mo</small>
              </h1>
            {% endif %}
            {% if course.short_description %}
              <p class="card-text">{{ course.short_description }}</p>
            {% endif %}
            <a href="{{ course.get_absolute_url }}" class="w-100 btn btn-lg btn-primary">Buy</a>
          </div>
        </div>
      </div>
    {% endfor %}

  </div>
</section>

{# ================= END COURSES SECTION ================= #}



{% endblock %}

{% block scripts %}
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init({
    // optional global settings
    once: false,             // whether animation should happen only once â€” set to false if you want when scrolling back up
    duration: 600,           // global animation duration (ms)
    easing: 'ease-out-cubic' // easing function
  });
</script>
<script>
const swiper = new Swiper(".heroSwiper", {
    loop: true,
    speed: 1200,
    parallax: true,
    autoplay: { delay: 3000 },

    effect: "slide",

    pagination: { 
        el: ".swiper-pagination",
        clickable: true 
    },

    navigation: { 
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev"
    },
});
</script>
{% endblock %}
